@echo off
echo.
echo ğŸ–¥ï¸  ====================================
echo ğŸ® GAMEHUB TOKEN - WINDOWS BUILDER
echo ğŸ–¥ï¸  ====================================
echo.

:: Check Node.js
node --version >nul 2>&1
if errorlevel 1 (
    echo âŒ Node.js is not installed!
    pause
    exit /b 1
)

echo âœ… Node.js version:
node --version

echo.
echo ğŸ“¦ Installing dependencies...
npm install

if errorlevel 1 (
    echo âŒ npm install failed!
    pause
    exit /b 1
)

echo.
echo ğŸ”¨ Building Next.js project...
npm run build

if errorlevel 1 (
    echo âŒ Build failed!
    pause
    exit /b 1
)

echo.
echo âš¡ Installing Electron dependencies...
npm install electron electron-builder electron-is-dev --save-dev

echo.
echo ğŸ—ï¸  Building Windows Application...
npm run build-win

if errorlevel 0 (
    echo.
    echo âœ… ====================================
    echo ğŸ‰ WINDOWS APP BUILT SUCCESSFULLY!
    echo âœ… ====================================
    echo.
    echo ğŸ“ Output files in: ./dist/
    echo.
    echo ğŸš€ To run in development:
    echo    npm run electron-dev
    echo.
) else (
    echo âŒ Build failed!
)

pause